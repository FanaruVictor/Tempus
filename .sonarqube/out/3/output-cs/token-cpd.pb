³
&D:\Tempus\Tempus.Data\Configuration.cs
	namespace

 	
Tempus


 
.

 
Data

 
;

 
public 
static 
class 
Configuration !
{ 
public 

static 
void 
AddDb 
( 
this !
IServiceCollection" 4
services5 =
,= >
IConfiguration? M
configurationN [
)[ \
{ 
var 
connectionString 
= 
configuration ,
[, -
$str- K
]K L
;L M
var 
migrationsAssembly 
=  
typeof! '
(' (
TempusDbContext( 7
)7 8
.8 9
GetTypeInfo9 D
(D E
)E F
.F G
AssemblyG O
.O P
GetNameP W
(W X
)X Y
.Y Z
NameZ ^
;^ _
services 
. 
AddDbContext 
< 
TempusDbContext -
>- .
(. /
options/ 6
=>7 9
options: A
.A B
UseSqlServerB N
(N O
connectionStringO _
,_ `
sqla d
=>e g
{ 	
sql 
. 
MigrationsAssembly "
(" #
migrationsAssembly# 5
)5 6
;6 7
sql 
. "
MigrationsHistoryTable &
(& '
$str' =
)= >
;> ?
} 	
)	 

)
 
; 
services 
. 
	AddScoped 
< 
ICategoryRepository .
,. /
CategoryRepository0 B
>B C
(C D
)D E
;E F
services 
. 
	AddScoped 
< #
IRegistrationRepository 2
,2 3"
RegistrationRepository4 J
>J K
(K L
)L M
;M N
services 
. 
	AddScoped 
< 
IUserRepository *
,* +
UserRepository, :
>: ;
(; <
)< =
;= >
} 
} ð
ED:\Tempus\Tempus.Data\Context\Configurations\CategoryConfiguration.cs
	namespace 	
Tempus
 
. 
Data 
. 
Context 
. 
Configurations ,
;, -
public 
class !
CategoryConfiguration "
:# $$
IEntityTypeConfiguration% =
<= >
Category> F
>F G
{ 
public		 

void		 
	Configure		 
(		 
EntityTypeBuilder		 +
<		+ ,
Category		, 4
>		4 5
builder		6 =
)		= >
{

 
builder 
. 
Property 
( 
x 
=> 
x 
.  
Id  "
)" #
.# $

IsRequired$ .
(. /
)/ 0
;0 1
builder 
. 
Property 
( 
x 
=> 
x 
.  
	CreatedAt  )
)) *
.* +

IsRequired+ 5
(5 6
)6 7
;7 8
builder 
. 
Property 
( 
x 
=> 
x 
.  
Color  %
)% &
.& '

IsRequired' 1
(1 2
)2 3
;3 4
builder 
. 
Property 
( 
x 
=> 
x 
.  
Name  $
)$ %
.% &

IsRequired& 0
(0 1
)1 2
;2 3
builder 
. 
HasOne 
( 
x 
=> 
x 
. 
User 
)  
. 
WithMany 
( 
x 
=> 
x 
. 

Categories '
)' (
. 
HasForeignKey 
( 
x 
=> 
x  !
.! "
UserId" (
)( )
;) *
} 
} ì
ID:\Tempus\Tempus.Data\Context\Configurations\RegistrationConfiguration.cs
	namespace 	
Tempus
 
. 
Data 
. 
Context 
. 
Configurations ,
;, -
public 
class %
RegistrationConfiguration &
:' ($
IEntityTypeConfiguration) A
<A B
RegistrationB N
>N O
{ 
public		 

void		 
	Configure		 
(		 
EntityTypeBuilder		 +
<		+ ,
Registration		, 8
>		8 9
builder		: A
)		A B
{

 
builder 
. 
Property 
( 
x 
=> 
x 
.  
Id  "
)" #
.# $
HasMaxLength$ 0
(0 1
$num1 3
)3 4
.4 5

IsRequired5 ?
(? @
)@ A
;A B
builder 
. 
Property 
( 
x 
=> 
x 
.  
	CreatedAt  )
)) *
.* +

IsRequired+ 5
(5 6
)6 7
;7 8
builder 
. 
Property 
( 
x 
=> 
x 
.  
LastUpdatedAt  -
)- .
.. /

IsRequired/ 9
(9 :
): ;
;; <
builder 
. 
Property 
( 
x 
=> 
x 
.  
Content  '
)' (
.( )

IsRequired) 3
(3 4
)4 5
;5 6
builder 
. 
Property 
( 
x 
=> 
x 
.  
Title  %
)% &
.& '

IsRequired' 1
(1 2
)2 3
;3 4
builder 
. 
Property 
( 
x 
=> 
x 
.  

CategoryId  *
)* +
.+ ,

IsRequired, 6
(6 7
)7 8
;8 9
builder 
. 
HasOne 
( 
x 
=> 
x 
. 
Category #
)# $
. 
WithMany 
( 
x 
=> 
x 
. 
Registrations *
)* +
. 
HasForeignKey 
( 
x 
=> 
x  !
.! "

CategoryId" ,
), -
;- .
} 
} ±
AD:\Tempus\Tempus.Data\Context\Configurations\UserConfiguration.cs
	namespace 	
Tempus
 
. 
Data 
. 
Context 
. 
Configurations ,
;, -
public 
class 
UserConfiguration 
:  $
IEntityTypeConfiguration! 9
<9 :
User: >
>> ?
{ 
public		 

void		 
	Configure		 
(		 
EntityTypeBuilder		 +
<		+ ,
User		, 0
>		0 1
builder		2 9
)		9 :
{

 
builder 
. 
Property 
( 
x 
=> 
x 
.  
Id  "
)" #
.# $
HasMaxLength$ 0
(0 1
$num1 3
)3 4
.4 5

IsRequired5 ?
(? @
)@ A
;A B
builder 
. 
Property 
( 
x 
=> 
x 
.  
UserName  (
)( )
.) *
HasMaxLength* 6
(6 7
$num7 9
)9 :
.: ;

IsRequired; E
(E F
)F G
;G H
builder 
. 
Property 
( 
x 
=> 
x 
.  
Email  %
)% &
.& '

IsRequired' 1
(1 2
)2 3
;3 4
} 
} í
0D:\Tempus\Tempus.Data\Context\TempusDbContext.cs
	namespace 	
Tempus
 
. 
Data 
. 
Context 
; 
public 
class 
TempusDbContext 
: 
	DbContext (
{ 
public		 

TempusDbContext		 
(		 
DbContextOptions		 +
options		, 3
)		3 4
:		5 6
base		7 ;
(		; <
options		< C
)		C D
{

 
} 
public 

DbSet 
< 
User 
> 
Users 
{ 
get "
;" #
set$ '
;' (
}) *
public 

DbSet 
< 
Category 
? 
> 

Categories &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 

DbSet 
< 
Registration 
? 
> 
Registrations  -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
	protected 
override 
void 
OnModelCreating +
(+ ,
ModelBuilder, 8
modelBuilder9 E
)E F
{ 
base 
. 
OnModelCreating 
( 
modelBuilder )
)) *
;* +
modelBuilder 
. +
ApplyConfigurationsFromAssembly 4
(4 5
Assembly5 =
.= > 
GetExecutingAssembly> R
(R S
)S T
)T U
;U V
} 
} §H
DD:\Tempus\Tempus.Data\Migrations\20221106164223_IntitialMigration.cs
	namespace 	
Tempus
 
. 
Data 
. 

Migrations  
{ 
public 

partial 
class 
IntitialMigration *
:+ ,
	Migration- 6
{		 
	protected

 
override

 
void

 
Up

  "
(

" #
MigrationBuilder

# 3
migrationBuilder

4 D
)

D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str "
," #
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
Guid& *
>* +
(+ ,
type, 0
:0 1
$str2 D
,D E
nullableF N
:N O
falseP U
)U V
,V W
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 E
,E F
nullableG O
:O P
trueQ U
)U V
,V W
	CreatedAt 
= 
table  %
.% &
Column& ,
<, -
DateTime- 5
>5 6
(6 7
type7 ;
:; <
$str= H
,H I
nullableJ R
:R S
falseT Y
)Y Z
,Z [
Color 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 F
,F G
nullableH P
:P Q
falseR W
)W X
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 4
,4 5
x6 7
=>8 :
x; <
.< =
Id= ?
)? @
;@ A
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
, 
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
Guid& *
>* +
(+ ,
type, 0
:0 1
$str2 D
,D E
	maxLengthF O
:O P
$numQ S
,S T
nullableU ]
:] ^
false_ d
)d e
,e f
UserName 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: H
,H I
	maxLengthJ S
:S T
$numU W
,W X
nullableY a
:a b
falsec h
)h i
,i j
Email   
=   
table   !
.  ! "
Column  " (
<  ( )
string  ) /
>  / 0
(  0 1
type  1 5
:  5 6
$str  7 F
,  F G
nullable  H P
:  P Q
false  R W
)  W X
}!! 
,!! 
constraints"" 
:"" 
table"" "
=>""# %
{## 
table$$ 
.$$ 

PrimaryKey$$ $
($$$ %
$str$$% /
,$$/ 0
x$$1 2
=>$$3 5
x$$6 7
.$$7 8
Id$$8 :
)$$: ;
;$$; <
}%% 
)%% 
;%% 
migrationBuilder'' 
.'' 
CreateTable'' (
(''( )
name(( 
:(( 
$str(( %
,((% &
columns)) 
:)) 
table)) 
=>)) !
new))" %
{** 
Id++ 
=++ 
table++ 
.++ 
Column++ %
<++% &
Guid++& *
>++* +
(+++ ,
type++, 0
:++0 1
$str++2 D
,++D E
nullable++F N
:++N O
false++P U
)++U V
,++V W
Title,, 
=,, 
table,, !
.,,! "
Column,," (
<,,( )
string,,) /
>,,/ 0
(,,0 1
type,,1 5
:,,5 6
$str,,7 F
,,,F G
nullable,,H P
:,,P Q
false,,R W
),,W X
,,,X Y
Content-- 
=-- 
table-- #
.--# $
Column--$ *
<--* +
string--+ 1
>--1 2
(--2 3
type--3 7
:--7 8
$str--9 H
,--H I
nullable--J R
:--R S
false--T Y
)--Y Z
,--Z [
	CreatedAt.. 
=.. 
table..  %
...% &
Column..& ,
<.., -
DateTime..- 5
>..5 6
(..6 7
type..7 ;
:..; <
$str..= H
,..H I
nullable..J R
:..R S
false..T Y
)..Y Z
,..Z [
LastUpdatedAt// !
=//" #
table//$ )
.//) *
Column//* 0
<//0 1
DateTime//1 9
>//9 :
(//: ;
type//; ?
://? @
$str//A L
,//L M
nullable//N V
://V W
false//X ]
)//] ^
,//^ _
UserId00 
=00 
table00 "
.00" #
Column00# )
<00) *
Guid00* .
>00. /
(00/ 0
type000 4
:004 5
$str006 H
,00H I
nullable00J R
:00R S
false00T Y
)00Y Z
,00Z [

CategoryId11 
=11  
table11! &
.11& '
Column11' -
<11- .
Guid11. 2
>112 3
(113 4
type114 8
:118 9
$str11: L
,11L M
nullable11N V
:11V W
false11X ]
)11] ^
}22 
,22 
constraints33 
:33 
table33 "
=>33# %
{44 
table55 
.55 

PrimaryKey55 $
(55$ %
$str55% 7
,557 8
x559 :
=>55; =
x55> ?
.55? @
Id55@ B
)55B C
;55C D
table66 
.66 

ForeignKey66 $
(66$ %
name77 
:77 
$str77 F
,77F G
column88 
:88 
x88  !
=>88" $
x88% &
.88& '

CategoryId88' 1
,881 2
principalTable99 &
:99& '
$str99( 4
,994 5
principalColumn:: '
:::' (
$str::) -
,::- .
onDelete;;  
:;;  !
ReferentialAction;;" 3
.;;3 4
Cascade;;4 ;
);;; <
;;;< =
table<< 
.<< 

ForeignKey<< $
(<<$ %
name== 
:== 
$str== =
,=== >
column>> 
:>> 
x>>  !
=>>>" $
x>>% &
.>>& '
UserId>>' -
,>>- .
principalTable?? &
:??& '
$str??( /
,??/ 0
principalColumn@@ '
:@@' (
$str@@) -
,@@- .
onDeleteAA  
:AA  !
ReferentialActionAA" 3
.AA3 4
CascadeAA4 ;
)AA; <
;AA< =
}BB 
)BB 
;BB 
migrationBuilderDD 
.DD 
CreateIndexDD (
(DD( )
nameEE 
:EE 
$strEE 3
,EE3 4
tableFF 
:FF 
$strFF &
,FF& '
columnGG 
:GG 
$strGG $
)GG$ %
;GG% &
migrationBuilderII 
.II 
CreateIndexII (
(II( )
nameJJ 
:JJ 
$strJJ /
,JJ/ 0
tableKK 
:KK 
$strKK &
,KK& '
columnLL 
:LL 
$strLL  
)LL  !
;LL! "
}MM 	
	protectedOO 
overrideOO 
voidOO 
DownOO  $
(OO$ %
MigrationBuilderOO% 5
migrationBuilderOO6 F
)OOF G
{PP 	
migrationBuilderQQ 
.QQ 
	DropTableQQ &
(QQ& '
nameRR 
:RR 
$strRR %
)RR% &
;RR& '
migrationBuilderTT 
.TT 
	DropTableTT &
(TT& '
nameUU 
:UU 
$strUU "
)UU" #
;UU# $
migrationBuilderWW 
.WW 
	DropTableWW &
(WW& '
nameXX 
:XX 
$strXX 
)XX 
;XX 
}YY 	
}ZZ 
}[[ î8
jD:\Tempus\Tempus.Data\Migrations\20221121204102_UserCategoryAddedAndFieldsForCategoriesAndRegistrations.cs
	namespace 	
Tempus
 
. 
Data 
. 

Migrations  
{ 
public 

partial 
class C
7UserCategoryAddedAndFieldsForCategoriesAndRegistrations P
:Q R
	MigrationS \
{		 
	protected

 
override

 
void

 
Up

  "
(

" #
MigrationBuilder

# 3
migrationBuilder

4 D
)

D E
{ 	
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str 5
,5 6
table 
: 
$str &
)& '
;' (
migrationBuilder 
. 
AlterColumn (
<( )
Guid) -
>- .
(. /
name 
: 
$str 
, 
table 
: 
$str &
,& '
type 
: 
$str (
,( )
nullable 
: 
true 
, 

oldClrType 
: 
typeof "
(" #
Guid# '
)' (
,( )
oldType 
: 
$str +
)+ ,
;, -
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str 
, 
table 
: 
$str #
,# $
type 
: 
$str %
,% &
nullable 
: 
false 
,  
defaultValue 
: 
$str  
,  !

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldType 
: 
$str (
,( )
oldNullable   
:   
true   !
)  ! "
;  " #
migrationBuilder"" 
."" 
	AddColumn"" &
<""& '
Guid""' +
>""+ ,
("", -
name## 
:## 
$str## 
,## 
table$$ 
:$$ 
$str$$ #
,$$# $
type%% 
:%% 
$str%% (
,%%( )
nullable&& 
:&& 
false&& 
,&&  
defaultValue'' 
:'' 
new'' !
Guid''" &
(''& '
$str''' M
)''M N
)''N O
;''O P
migrationBuilder)) 
.)) 
CreateIndex)) (
())( )
name** 
:** 
$str** ,
,**, -
table++ 
:++ 
$str++ #
,++# $
column,, 
:,, 
$str,,  
),,  !
;,,! "
migrationBuilder.. 
... 
AddForeignKey.. *
(..* +
name// 
:// 
$str// 2
,//2 3
table00 
:00 
$str00 #
,00# $
column11 
:11 
$str11  
,11  !
principalTable22 
:22 
$str22  '
,22' (
principalColumn33 
:33  
$str33! %
,33% &
onDelete44 
:44 
ReferentialAction44 +
.44+ ,
Cascade44, 3
)443 4
;444 5
migrationBuilder66 
.66 
AddForeignKey66 *
(66* +
name77 
:77 
$str77 5
,775 6
table88 
:88 
$str88 &
,88& '
column99 
:99 
$str99  
,99  !
principalTable:: 
::: 
$str::  '
,::' (
principalColumn;; 
:;;  
$str;;! %
);;% &
;;;& '
}<< 	
	protected>> 
override>> 
void>> 
Down>>  $
(>>$ %
MigrationBuilder>>% 5
migrationBuilder>>6 F
)>>F G
{?? 	
migrationBuilder@@ 
.@@ 
DropForeignKey@@ +
(@@+ ,
nameAA 
:AA 
$strAA 2
,AA2 3
tableBB 
:BB 
$strBB #
)BB# $
;BB$ %
migrationBuilderDD 
.DD 
DropForeignKeyDD +
(DD+ ,
nameEE 
:EE 
$strEE 5
,EE5 6
tableFF 
:FF 
$strFF &
)FF& '
;FF' (
migrationBuilderHH 
.HH 
	DropIndexHH &
(HH& '
nameII 
:II 
$strII ,
,II, -
tableJJ 
:JJ 
$strJJ #
)JJ# $
;JJ$ %
migrationBuilderLL 
.LL 

DropColumnLL '
(LL' (
nameMM 
:MM 
$strMM 
,MM 
tableNN 
:NN 
$strNN #
)NN# $
;NN$ %
migrationBuilderPP 
.PP 
AlterColumnPP (
<PP( )
GuidPP) -
>PP- .
(PP. /
nameQQ 
:QQ 
$strQQ 
,QQ 
tableRR 
:RR 
$strRR &
,RR& '
typeSS 
:SS 
$strSS (
,SS( )
nullableTT 
:TT 
falseTT 
,TT  
defaultValueUU 
:UU 
newUU !
GuidUU" &
(UU& '
$strUU' M
)UUM N
,UUN O

oldClrTypeVV 
:VV 
typeofVV "
(VV" #
GuidVV# '
)VV' (
,VV( )
oldTypeWW 
:WW 
$strWW +
,WW+ ,
oldNullableXX 
:XX 
trueXX !
)XX! "
;XX" #
migrationBuilderZZ 
.ZZ 
AlterColumnZZ (
<ZZ( )
stringZZ) /
>ZZ/ 0
(ZZ0 1
name[[ 
:[[ 
$str[[ 
,[[ 
table\\ 
:\\ 
$str\\ #
,\\# $
type]] 
:]] 
$str]] %
,]]% &
nullable^^ 
:^^ 
true^^ 
,^^ 

oldClrType__ 
:__ 
typeof__ "
(__" #
string__# )
)__) *
,__* +
oldType`` 
:`` 
$str`` (
)``( )
;``) *
migrationBuilderbb 
.bb 
AddForeignKeybb *
(bb* +
namecc 
:cc 
$strcc 5
,cc5 6
tabledd 
:dd 
$strdd &
,dd& '
columnee 
:ee 
$stree  
,ee  !
principalTableff 
:ff 
$strff  '
,ff' (
principalColumngg 
:gg  
$strgg! %
,gg% &
onDeletehh 
:hh 
ReferentialActionhh +
.hh+ ,
Cascadehh, 3
)hh3 4
;hh4 5
}ii 	
}jj 
}kk Ê
PD:\Tempus\Tempus.Data\Migrations\20221121232652_LastUpdateAtCategoryPropriety.cs
	namespace 	
Tempus
 
. 
Data 
. 

Migrations  
{ 
public 

partial 
class )
LastUpdateAtCategoryPropriety 6
:7 8
	Migration9 B
{		 
	protected

 
override

 
void

 
Up

  "
(

" #
MigrationBuilder

# 3
migrationBuilder

4 D
)

D E
{ 	
migrationBuilder 
. 
	AddColumn &
<& '
DateTime' /
>/ 0
(0 1
name 
: 
$str %
,% &
table 
: 
$str #
,# $
type 
: 
$str !
,! "
nullable 
: 
false 
,  
defaultValue 
: 
new !
DateTime" *
(* +
$num+ ,
,, -
$num. /
,/ 0
$num1 2
,2 3
$num4 5
,5 6
$num7 8
,8 9
$num: ;
,; <
$num= >
,> ?
DateTimeKind@ L
.L M
UnspecifiedM X
)X Y
)Y Z
;Z [
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str %
,% &
table 
: 
$str #
)# $
;$ %
} 	
} 
} Ä"
4D:\Tempus\Tempus.Data\Repositories\BaseRepository.cs
	namespace 	
Tempus
 
. 
Data 
. 
Repositories "
;" #
public 
class 
BaseRepository 
< 
TEntity #
># $
:% &
IBaseRepository' 6
<6 7
TEntity7 >
>> ?
where		 	
TEntity		
 
:		 

BaseEntity		 
{

 
	protected 
readonly 
TempusDbContext &
_context' /
;/ 0
	protected 
BaseRepository 
( 
TempusDbContext ,
context- 4
)4 5
{ 
_context 
= 
context 
; 
} 
public 

async 
Task 
< 
List 
< 
TEntity "
>" #
># $
GetAll% +
(+ ,
), -
{ 
return 
await 
_context 
. 
Set 
< 
TEntity 
> 
( 
) 
. 
AsNoTracking 
( 
) 
. 
ToListAsync 
( 
) 
; 
} 
public 

async 
Task 
< 
TEntity 
? 
> 
GetById  '
(' (
Guid( ,
id- /
)/ 0
{ 
return 
await 
_context 
. 
Set 
< 
TEntity 
> 
( 
) 
. 
AsNoTracking 
( 
) 
.   
FirstOrDefaultAsync    
(    !
e  ! "
=>  # %
e  & '
.  ' (
Id  ( *
==  + -
id  . 0
)  0 1
;  1 2
}!! 
public## 

async## 
Task## 
<## 
TEntity## 
>## 
Add## "
(##" #
TEntity### *
entity##+ 1
)##1 2
{$$ 
await%% 
_context%% 
.&& 
Set&& 
<&& 
TEntity&& 
>&& 
(&& 
)&& 
.'' 
AddAsync'' 
('' 
entity'' 
)'' 
;'' 
await(( 
_context(( 
.(( 
SaveChangesAsync(( '
(((' (
)((( )
;(() *
return)) 
entity)) 
;)) 
}** 
public,, 

async,, 
Task,, 
<,, 
TEntity,, 
>,, 
Update,, %
(,,% &
TEntity,,& -
entity,,. 4
),,4 5
{-- 
_context.. 
.// 
Set// 
<// 
TEntity// 
>// 
(// 
)// 
.00 
Update00 
(00 
entity00 
)00 
;00 
await11 
_context11 
.11 
SaveChangesAsync11 '
(11' (
)11( )
;11) *
return33 
entity33 
;33 
}44 
public66 

async66 
Task66 
<66 
Guid66 
>66 
Delete66 "
(66" #
Guid66# '
id66( *
)66* +
{77 
var88 
entity88 
=88 
await88 
GetById88 "
(88" #
id88# %
)88% &
;88& '
if:: 

(:: 
entity:: 
==:: 
null:: 
):: 
{;; 	
return<< 
Guid<< 
.<< 
Empty<< 
;<< 
}== 	
_context?? 
.@@ 
Set@@ 
<@@ 
TEntity@@ 
>@@ 
(@@ 
)@@ 
.AA 
RemoveAA 
(AA 
entityAA 
)AA 
;AA 
awaitBB 
_contextBB 
.BB 
SaveChangesAsyncBB '
(BB' (
)BB( )
;BB) *
returnDD 
idDD 
;DD 
}EE 
}FF ë
8D:\Tempus\Tempus.Data\Repositories\CategoryRepository.cs
	namespace 	
Tempus
 
. 
Data 
. 
Repositories "
;" #
public 
class 
CategoryRepository 
:  !
BaseRepository" 0
<0 1
Category1 9
>9 :
,: ;
ICategoryRepository< O
{		 
private

 
const

 
string

 
DefaultColor

 %
=

& '
$str

( /
;

/ 0
public 

CategoryRepository 
( 
TempusDbContext -
context. 5
)5 6
:7 8
base9 =
(= >
context> E
)E F
{ 
} 
public 

async 
Task 
< 
List 
< 
Category #
?# $
>$ %
>% &
GetAll' -
(- .
Guid. 2
userId3 9
)9 :
{ 
return 
await 
_context 
. 

Categories (
.( )
Where) .
(. /
x/ 0
=>1 3
x4 5
.5 6
UserId6 <
=== ?
userId@ F
)F G
.G H
ToListAsyncH S
(S T
)T U
;U V
} 
public 

string 
GetCategoryColor "
(" #
Guid# '
id( *
)* +
{ 
return 
_context 
. 

Categories "
." #
Where# (
(( )
x) *
=>+ -
x. /
./ 0
Id0 2
==3 5
id6 8
)8 9
.9 :
Select: @
(@ A
xA B
=>C E
xF G
.G H
ColorH M
)M N
.N O
FirstOrDefaultO ]
(] ^
)^ _
??` b
DefaultColorc o
;o p
} 
} Ü
<D:\Tempus\Tempus.Data\Repositories\RegistrationRepository.cs
	namespace 	
Tempus
 
. 
Data 
. 
Repositories "
;" #
public 
class "
RegistrationRepository #
:$ %
BaseRepository& 4
<4 5
Registration5 A
>A B
,B C#
IRegistrationRepositoryD [
{		 
public

 
"
RegistrationRepository

 !
(

! "
TempusDbContext

" 1
context

2 9
)

9 :
:

; <
base

= A
(

A B
context

B I
)

I J
{ 
} 
public 

async 
Task 
< 
List 
< 
Registration '
?' (
>( )
>) *
GetAll+ 1
(1 2
Guid2 6

categoryId7 A
)A B
=>C E
awaitF K
_contextL T
.T U
RegistrationsU b
.b c
Wherec h
(h i
xi j
=>k m
xn o
.o p

CategoryIdp z
=={ }

categoryId	~ 
)
 
.
 
ToListAsync
 
(
 
)
 
;
 
public 

Task 
< 
Registration 
? 
> 
GetLastUpdated -
(- .
). /
{ 
return 
_context 
. 
Registrations %
.% &
OrderByDescending& 7
(7 8
x8 9
=>: <
x= >
.> ?
LastUpdatedAt? L
)L M
.M N
FirstOrDefaultAsyncN a
(a b
)b c
;c d
} 
} ¹
4D:\Tempus\Tempus.Data\Repositories\UserRepository.cs
	namespace 	
Tempus
 
. 
Data 
. 
Repositories "
." #
UserRepositories# 3
;3 4
public 
class 
UserRepository 
: 
BaseRepository ,
<, -
User- 1
>1 2
,2 3
IUserRepository4 C
{ 
public		 

UserRepository		 
(		 
TempusDbContext		 )
context		* 1
)		1 2
:		3 4
base		5 9
(		9 :
context		: A
)		A B
{

 
} 
} 