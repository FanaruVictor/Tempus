<div class="registration-wrapper" *ngIf="registrations">
  <div class="right">
    <input class="by-title filter" type="text" name="search" [(ngModel)]="searchText" autocomplete="off"
           placeholder="Search for registration">
    <div class="by-creation-date filter">
      <mat-date-range-input [formGroup]="dateRange" [rangePicker]="picker" [min]="minDate"
                            [max]="maxDate">
        <input matStartDate formControlName="start" placeholder="Creation Start date">
        <input matEndDate formControlName="end" placeholder="Creation End date">
      </mat-date-range-input>
      <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-date-range-picker #picker></mat-date-range-picker>
    </div>
    <div class="by-color filter">
      <mat-label>Category color</mat-label>
      <mat-select [formControl]="colors" multiple panelClass="mat-select-content" disableOptionCentering>
        <mat-option *ngFor="let registration of registrations"
                    [value]="registration.categoryColor">{{registration.categoryColor}}</mat-option>
      </mat-select>
    </div>
  </div>
  <div class="center">
    <div class="elements" *ngIf="registrations.length != 0; else showNoRegistrations">
      <div
        *ngFor="let registration of registrations | search: searchText | dateRange : {start: dateRange.controls['start'].value, end: dateRange.controls['end'].value} "
        class="registration"
        [ngStyle]="{'box-shadow': '0 0 5px 1px ' + registration?.categoryColor}"
      >

        <div class="item">
          <div
            class="info"
          >
            <div class="content" [routerLink]="['/registrations/edit', registration.id]">
              <div class="title">{{registration.title.toUpperCase()}}</div>
              <div class="description">{{registration.description}}</div>
            </div>
            <div class="actions">
              <div class="buttons">
                <app-button (click)="delete(registration.id)" [icon]="'delete'" class="delete"></app-button>
                <app-button (click)="download(registration)" [icon]="'download'" class="download"></app-button>
              </div>
              <div class="created-date">{{registration.createdAt | date }}</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <ng-template #showNoRegistrations>
      <h1 class="no-registrations-message">You do not have registrations</h1>
    </ng-template>
  </div>

  <div class="left">
    <button (click)="addRegistration()" aria-label="Create registration button" mat-raised-button>
      Add
    </button>
  </div>
</div>


